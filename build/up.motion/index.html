<!doctype html>
<html>

  <head>
    <meta charset="utf-8" />
<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1'>
<meta name="format-detection" content="telephone=no"> 
<link href='/images/favicon.png' rel='shortcut icon' type='image/png'>

    <title>Animation and transitions - Up.js Guide</title>
    <link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700|Source+Sans+Pro:300,400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <link href="/stylesheets/guide/all.css" rel="stylesheet" type="text/css" />
    <script src="/javascripts/guide.js" type="text/javascript"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-8114576-16', 'auto');
  ga('send', 'pageview');
</script>

  </head>

  <body>

    <div class="layout">

      <div class="layout__head"></div>

      <div class="layout__body">
        <div class="viewport">
          <div class="layout__side">

            <a href="/" class="logo" up-dash=".content" up-transition="cross-fade">
              <img class="logo__glyph" src="/images/logo.gif" alt="" />
              <span class="logo__name">
                Up.js
              </span>
              <span class="logo__alpha">
                Beta
              </span>
            </a>

            <div class="menu">
                <a href="/up.link" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Linking to page fragments
                </a>
                <a href="/up.modal" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Modal dialogs
                </a>
                <a href="/up.popup" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Pop-up overlays
                </a>
                <a href="/up.motion" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Animation and transitions
                </a>
                <a href="/up.navigation" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Fast interaction feedback
                </a>
                <a href="/up.magic" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Registering behavior and custom elements
                </a>
                <a href="/up.flow" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Changing page fragments programmatically
                </a>
                <a href="/up.proxy" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Caching and preloading
                </a>
                <a href="/up.form" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Forms and controls
                </a>
                <a href="/up.tooltip" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Tooltips
                </a>
                <a href="/up.slot" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Content slots
                </a>
                <a href="/up.history" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Manipulating the browser history
                </a>
                <a href="/up.layout" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Viewport scrolling
                </a>
                <a href="/up.bus" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Framework events
                </a>
            </div>

            <div class="layout__fineprint">
              A <a href="http://www.makandra.com/" class="hyperlink is_gray">makandra</a> project
              (<a href="/imprint" class="hyperlink is_gray" up-dash=".content" up-transition="cross-fade">imprint</a>)
            </div>

          </div>

          <div class="layout__content">
            <div class="content">
              

<h1 class="title">
  Animation and transitions
</h1>

<div class='prose'>
<p>Any fragment change in Up.js can be animated.</p>

<pre><code>&lt;a href="/users" data-target=".list" up-transition="cross-fade"&gt;Show users&lt;/a&gt;
</code></pre>

<p>Or a dialog open:</p>

<pre><code>&lt;a href="/users" up-modal=".list" up-animation="move-from-top"&gt;Show users&lt;/a&gt;
</code></pre>

<p>Up.js ships with a number of predefined animations and transitions,
and you can easily define your own using Javascript or CSS. </p>

<h3 id="incomplete-documentation">Incomplete documentation!</h3>

<p>We need to work on this page:</p>

<ul>
  <li>Explain the difference between transitions and animations</li>
  <li>Demo the built-in animations and transitions</li>
  <li>Explain ghosting</li>
</ul>

</div>


  <div class="api">

    <div class="api__title">Javascript methods</div>

    <div class="api__explanation">
      Use these methods to programmatically interact
      with Up.js from your own Javascript code.
    </div>

    <div class="api__symbols">

        <div class="symbol is_public" id="up.motion.defaults">

  <div class="symbol__signature">
    <a href="#up.motion.defaults">up.motion.defaults([options])</a>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Sets default options for animations and transitions.</p>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.duration=300]          <span class="symbol__type">
            Number
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.delay=0]          <span class="symbol__type">
            Number
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.easing='ease']          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>

  
</div>

        <div class="symbol is_public" id="up.animate">

  <div class="symbol__signature">
    <a href="#up.animate">up.animate(elementOrSelector, animation, [options])</a>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Applies the given animation to the given element:</p>

<pre><code>up.animate('.warning', 'fade-in');
</code></pre>

<p>You can pass additional options:</p>

<pre><code>up.animate('warning', '.fade-in', {
  delay: 1000,
  duration: 250,
  easing: 'linear'
});
</code></pre>

<h4 id="named-animations">Named animations</h4>

<p>The following animations are pre-defined:</p>

<table>
  <tbody>
    <tr>
      <td><code>fade-in</code></td>
      <td>Changes the element's opacity from 0% to 100%</td>
    </tr>
    <tr>
      <td><code>fade-out</code></td>
      <td>Changes the element's opacity from 100% to 0%</td>
    </tr>
    <tr>
      <td><code>move-to-top</code></td>
      <td>Moves the element upwards until it exits the screen at the top edge</td>
    </tr>
    <tr>
      <td><code>move-from-top</code></td>
      <td>Moves the element downwards from beyond the top edge of the screen until it reaches its current position</td>
    </tr>
    <tr>
      <td><code>move-to-bottom</code></td>
      <td>Moves the element downwards until it exits the screen at the bottom edge</td>
    </tr>
    <tr>
      <td><code>move-from-bottom</code></td>
      <td>Moves the element upwards from beyond the bottom edge of the screen until it reaches its current position</td>
    </tr>
    <tr>
      <td><code>move-to-left</code></td>
      <td>Moves the element leftwards until it exists the screen at the left edge</td>
    </tr>
    <tr>
      <td><code>move-from-left</code></td>
      <td>Moves the element rightwards from beyond the left edge of the screen until it reaches its current position</td>
    </tr>
    <tr>
      <td><code>move-to-right</code></td>
      <td>Moves the element rightwards until it exists the screen at the right edge</td>
    </tr>
    <tr>
      <td><code>move-from-right</code></td>
      <td>Moves the element leftwards from beyond the right  edge of the screen until it reaches its current position</td>
    </tr>
    <tr>
      <td><code>none</code></td>
      <td>An animation that has no visible effect. Sounds useless at first, but can save you a lot of <code>if</code> statements.</td>
    </tr>
  </tbody>
</table>

<p>You can define additional named animations using <a href="#up.animation"><code>up.animation</code></a>.</p>

<h4 id="animating-css-properties-directly">Animating CSS properties directly</h4>

<p>By passing an object instead of an animation name, you can animate
the CSS properties of the given element:</p>

<pre><code>var $warning = $('.warning');
$warning.css({ opacity: 0 });
up.animate($warning, { opacity: 1 });
</code></pre>

<h4 id="multiple-animations-on-the-same-element">Multiple animations on the same element</h4>

<p>Up.js doesn't allow more than one concurrent animation on the same element.</p>

<p>If you attempt to animate an element that is already being animated,
the previous animation will instantly jump to its last frame before
the new animation begins.</p>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          elementOrSelector          <span class="symbol__type">
            Element <span class="symbol__or">or</span> jQuery <span class="symbol__or">or</span> String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'><p>The element to animate.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          animation          <span class="symbol__type">
            String <span class="symbol__or">or</span> Function <span class="symbol__or">or</span> Object
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'><p>Can either be:
- The animation's name
- A function performing the animation
- An object of CSS attributes describing the last frame of the animation</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.duration=300]          <span class="symbol__type">
            Number
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>The duration of the animation, in milliseconds.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.delay=0]          <span class="symbol__type">
            Number
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>The delay before the animation starts, in milliseconds.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.easing='ease']          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>The timing function that controls the animation's acceleration.
See <a href="http://www.w3.org/TR/css3-transitions/#transition-timing-function">W3C documentation</a>
for a list of pre-defined timing functions.</p>
</div>
        </div>
      </div>


    <div class="symbol__subtitle">
      Return value
    </div>

      <div class="symbol__type">
        Promise
      </div>

    <div class="symbol__param_prose">
      <div class='prose'>
<p>A promise for the animation's end.</p>
</div>
    </div>
  
</div>

        <div class="symbol is_protected" id="up.motion.animateOptions">

  <div class="symbol__signature">
    <a href="#up.motion.animateOptions">up.motion.animateOptions()</a>
      <span class="symbol__tag is_visibility">
        protected
      </span>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Extracts animation-related options from the given options hash.
If <code>$element</code> is given, also inspects the element for animation-related
attributes like <code>up-easing</code> or <code>up-duration</code>.</p>

</div>
    </div>



  
</div>

        <div class="symbol is_public" id="up.motion.finish">

  <div class="symbol__signature">
    <a href="#up.motion.finish">up.motion.finish(elementOrSelector)</a>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Completes all animations and transitions for the given element
by jumping to the last animation frame instantly. All callbacks chained to
the original animation's promise will be called.</p>

<p>Does nothing if the given element is not currently animating.</p>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          elementOrSelector          <span class="symbol__type">
            Element <span class="symbol__or">or</span> jQuery <span class="symbol__or">or</span> String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>

  
</div>

        <div class="symbol is_public" id="up.morph">

  <div class="symbol__signature">
    <a href="#up.morph">up.morph(source, target, transitionOrName, [options])</a>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Performs an animated transition between two elements.
Transitions are implement by performing two animations in parallel,
causing one element to disappear and the other to appear.</p>

<p>Note that the transition does not remove any elements from the DOM.
The first element will remain in the DOM, albeit hidden using <code>display: none</code>.</p>

<h4 id="named-transitions">Named transitions</h4>

<p>The following transitions are pre-defined:</p>

<table>
  <tbody>
    <tr>
      <td><code>cross-fade</code></td>
      <td>Fades out the first element. Simultaneously fades in the second element.</td>
    </tr>
    <tr>
      <td><code>move-up</code></td>
      <td>Moves the first element upwards until it exits the screen at the top edge. Simultaneously moves the second element upwards from beyond the bottom edge of the screen until it reaches its current position.</td>
    </tr>
    <tr>
      <td><code>move-down</code></td>
      <td>Moves the first element downwards until it exits the screen at the bottom edge. Simultaneously moves the second element downwards from beyond the top edge of the screen until it reaches its current position.</td>
    </tr>
    <tr>
      <td><code>move-left</code></td>
      <td>Moves the first element leftwards until it exists the screen at the left edge. Simultaneously moves the second element leftwards from beyond the right  edge of the screen until it reaches its current position.</td>
    </tr>
    <tr>
      <td><code>move-right</code></td>
      <td>Moves the first element rightwards until it exists the screen at the right edge. Simultaneously moves the second element rightwards from beyond the left edge of the screen until it reaches its current position.</td>
    </tr>
    <tr>
      <td><code>none</code></td>
      <td>A transition that has no visible effect. Sounds useless at first, but can save you a lot of <code>if</code> statements.</td>
    </tr>
  </tbody>
</table>

<p>You can define additional named transitions using <a href="#up.transition"><code>up.transition</code></a>.</p>

<p>You can also compose a transition from two <a href="#named-animations">named animations</a>.
separated by a slash character (<code>/</code>):</p>

<ul>
  <li><code>move-to-bottom/fade-in</code></li>
  <li><code>move-to-left/move-from-top</code></li>
</ul>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          source          <span class="symbol__type">
            Element <span class="symbol__or">or</span> jQuery <span class="symbol__or">or</span> String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          target          <span class="symbol__type">
            Element <span class="symbol__or">or</span> jQuery <span class="symbol__or">or</span> String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          transitionOrName          <span class="symbol__type">
            Function <span class="symbol__or">or</span> String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.duration=300]          <span class="symbol__type">
            Number
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>The duration of the animation, in milliseconds.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.delay=0]          <span class="symbol__type">
            Number
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>The delay before the animation starts, in milliseconds.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.easing='ease']          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>The timing function that controls the transition's acceleration.
See <a href="http://www.w3.org/TR/css3-transitions/#transition-timing-function">W3C documentation</a>
for a list of pre-defined timing functions.</p>
</div>
        </div>
      </div>


    <div class="symbol__subtitle">
      Return value
    </div>

      <div class="symbol__type">
        Promise
      </div>

    <div class="symbol__param_prose">
      <div class='prose'>
<p>A promise for the transition's end.</p>
</div>
    </div>
  
</div>

        <div class="symbol is_public" id="up.transition">

  <div class="symbol__signature">
    <a href="#up.transition">up.transition(name, transition)</a>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Defines a named transition.</p>

<p>Here is the definition of the pre-defined <code>cross-fade</code> animation:</p>

<pre><code>up.transition('cross-fade', ($old, $new, options) -&gt;
  up.motion.when(
    animate($old, 'fade-out', options),
    animate($new, 'fade-in', options)
  )
)
</code></pre>

<p>It is recommended that your transitions use <a href="#up.animate"><code>up.animate</code></a>,
passing along the <code>options</code> that were passed to you.</p>

<p>If you choose to <em>not</em> use <code>up.animate</code> and roll your own
logic instead, your code must honor the following contract:</p>

<ol>
  <li>It must honor the passed options.</li>
  <li>It must <em>not</em> remove any of the given elements from the DOM.</li>
  <li>It returns a promise that is resolved when the transition ends</li>
  <li>The returned promise responds to a <code>resolve()</code> function that
instantly jumps to the last transition frame and resolves the promise.</li>
</ol>

<p>Calling <a href="#up.animate"><code>up.animate</code></a> with an object argument
will take care of all these points.</p>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          name          <span class="symbol__type">
            String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          transition          <span class="symbol__type">
            Function
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>

  
</div>

        <div class="symbol is_public" id="up.animation">

  <div class="symbol__signature">
    <a href="#up.animation">up.animation(name, animation)</a>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Defines a named animation.</p>

<p>Here is the definition of the pre-defined <code>fade-in</code> animation:</p>

<pre><code>up.animation('fade-in', ($ghost, options) -&gt;
  $ghost.css(opacity: 0)
  animate($ghost, { opacity: 1 }, options)
)
</code></pre>

<p>It is recommended that your definitions always end by calling
calling <a href="#up.animate"><code>up.animate</code></a> with an object argument, passing along
the <code>options</code> that were passed to you.</p>

<p>If you choose to <em>not</em> use <code>up.animate</code> and roll your own
animation code instead, your code must honor the following contract:</p>

<ol>
  <li>It must honor the passed options.</li>
  <li>It must <em>not</em> remove the passed element from the DOM.</li>
  <li>It returns a promise that is resolved when the animation ends</li>
  <li>The returned promise responds to a <code>resolve()</code> function that
instantly jumps to the last animation frame and resolves the promise.</li>
</ol>

<p>Calling <a href="#up.animate"><code>up.animate</code></a> with an object argument
will take care of all these points.</p>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          name          <span class="symbol__type">
            String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          animation          <span class="symbol__type">
            Function
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>

  
</div>

        <div class="symbol is_public" id="up.motion.when">

  <div class="symbol__signature">
    <a href="#up.motion.when">up.motion.when(promises...)</a>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Returns a new promise that resolves once all promises in arguments resolve.</p>

<p>Other then <a href="https://api.jquery.com/jquery.when/"><code>$.when</code> from jQuery</a>,
the combined promise will have a <code>resolve</code> method.</p>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          promises...          <span class="symbol__type">
            
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>


    <div class="symbol__subtitle">
      Return value
    </div>


    <div class="symbol__param_prose">
      <div class='prose'><p>A new promise.</p>
</div>
    </div>
  
</div>

        <div class="symbol is_public" id="up.motion.none">

  <div class="symbol__signature">
    <a href="#up.motion.none">up.motion.none()</a>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Returns a no-op animation or transition which has no visual effects
and completes instantly.</p>

</div>
    </div>




    <div class="symbol__subtitle">
      Return value
    </div>

      <div class="symbol__type">
        Promise
      </div>

    <div class="symbol__param_prose">
      <div class='prose'>
<p>A resolved promise</p>
</div>
    </div>
  
</div>


    </div>

  </div>

            </div>
          </div>
        </div>
      </div>

    </div>

  </body>

</html>
