<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1'>
    <meta name="format-detection" content="telephone=no"> 
    <link href='/images/favicon.png' rel='shortcut icon' type='image/png'>

    <title>Framework events - Up.js Guide</title>

    <link href="/stylesheets/application.css" rel="stylesheet" type="text/css" />
    <link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700|Source+Sans+Pro:300,400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <script src="/javascripts/application.js" type="text/javascript"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-8114576-16', 'auto');
      ga('send', 'pageview');
    </script>

  </head>
  <body>

    <div class="layout">

      <div class="layout__head"></div>

      <div class="layout__body">
        <div class="viewport">
          <div class="layout__side">

            <a href="/" class="logo" up-dash="#content" up-transition="cross-fade">
              <img class="logo__glyph" src="/images/logo.gif" alt="" />
              <span class="logo__name">
                Up.js
              </span>
              <span class="logo__alpha">
                Alpha
              </span>
            </a>

            <div class="menu">
                <a href="/up.link" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Linking to page fragments
                </a>
                <a href="/up.modal" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Modal dialogs
                </a>
                <a href="/up.popup" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Pop-up overlays
                </a>
                <a href="/up.motion" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Animation and transitions
                </a>
                <a href="/up.navigation" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Fast interaction feedback
                </a>
                <a href="/up.magic" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Registering behavior and custom elements
                </a>
                <a href="/up.flow" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Changing page fragments programmatically
                </a>
                <a href="/up.proxy" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Caching and preloading
                </a>
                <a href="/up.form" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Forms and controls
                </a>
                <a href="/up.tooltip" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Tooltips
                </a>
                <a href="/up.history" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Manipulating the browser history
                </a>
                <a href="/up.viewport" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Viewport scrolling
                </a>
                <a href="/up.bus" class="menu__item" up-dash="#content" up-transition="cross-fade">
                  Framework events
                </a>
            </div>

            <div class="layout__fineprint">
              A <a href="http://www.makandra.com/" class="hyperlink is_gray">makandra</a> project
              (<a href="/imprint" class="hyperlink is_gray" up-dash="#content" up-transition="cross-fade">imprint</a>)
            </div>

          </div>

          <div class="layout__content">
            <div id="content">
              

<h1 class="title">
  Framework events
</h1>

<div class='prose'>
<p>Up.js uses an internal event bus that you can use to hook into lifecycle events like "an HTML fragment into the DOM".</p>

<p>This internal event bus might eventually be rolled into regular events that we trigger on <code>document</code>.</p>

<h3 id="fragmentready-event"><code>fragment:ready</code> event</h3>

<p>This event is triggered after Up.js has inserted an HTML fragment into the DOM through mechanisms like <a href="/up.flow#up-target"><code>[up-target]</code></a> or <a href="/up.flow#up.replace"><code>up.replace</code></a>:</p>

<pre><code>up.bus.on('fragment:ready', function($fragment) {
  console.log("Looks like we have a new %o!", $fragment);
});
</code></pre>

<p>The event is triggered <em>before</em> Up has compiled the fragment with your <a href="/up.magic">custom behavior</a>.
Upon receiving the event, Up.js will start compilation.</p>

<h3 id="fragmentdestroy-event"><code>fragment:destroy</code> event</h3>

<p>This event is triggered when Up.js is destroying an HTML fragment, e.g. because it's being replaced
with a new version or because someone explicitly called <a href="/up.flow#up.destroy"><code>up.destroy</code></a>:</p>

<pre><code>up.bus.on('fragment:destroy', function($fragment) {
  console.log("Looks like we lost %o!", $fragment);
});
</code></pre>

<p>After triggering this event, Up.js will remove the fragment from the DOM.
In case the fragment destruction is animated, Up.js will complete the
animation before removing the fragment from the DOM.</p>

<h3 id="incomplete-documentation">Incomplete documentation!</h3>

<p>We need to work on this page:</p>

<ul>
  <li>Decide whether to refactor this into document events</li>
  <li>Decide whether <code>fragment:enter</code> and <code>fragment:leave</code> would be better names</li>
</ul>

</div>


  <div class="api">

    <div class="api__title">Javascript methods</div>

    <div class="api__explanation">
      Use these methods to programmatically interact
      with Up.js from your own Javascript code.
    </div>

    <div class="api__symbols">

        <div class="symbol is_public" id="up.bus.on">

  <div class="symbol__signature">
    up.bus.on(eventName, handler)
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Registers an event handler to be called when the given
event is triggered.</p>

</div>
    </div>


    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          eventName          <span class="symbol__type">
            String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'><p>The event name to match.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          handler          <span class="symbol__type">
            Function
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'><p>The event handler to be called with the event arguments.  </p>
</div>
        </div>
      </div>

  
</div>

        <div class="symbol is_public" id="up.bus.emit">

  <div class="symbol__signature">
    up.bus.emit(eventName, args...)
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Triggers an event over the framework bus.</p>

<p>All arguments will be passed as arguments to event listeners:</p>

<pre><code>up.bus.on('foo:bar', function(x, y) {
  console.log("Value of x is " + x);
  console.log("Value of y is " + y);
});

up.bus.emit('foo:bar', 'arg1', 'arg2')

// This prints to the console:
//
//   Value of x is arg1
//   Value of y is arg2
</code></pre>

</div>
    </div>


    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          eventName          <span class="symbol__type">
            String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'><p>The name of the event.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          args...          <span class="symbol__type">
            
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'><p>The arguments that describe the event. </p>
</div>
        </div>
      </div>

  
</div>


    </div>

  </div>

            </div>
          </div>
        </div>
      </div>

    </div>

  </body>
</html>
