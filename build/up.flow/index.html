<!doctype html>
<html>

  <head>
    <meta charset="utf-8" />
<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1'>
<meta name="format-detection" content="telephone=no"> 
<link href='/images/favicon.png' rel='shortcut icon' type='image/png'>

    <title>Changing page fragments programmatically - Up.js Guide</title>
    <link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700|Source+Sans+Pro:300,400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <link href="/stylesheets/guide/all.css" rel="stylesheet" type="text/css" />
    <script src="/javascripts/guide.js" type="text/javascript"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-8114576-16', 'auto');
  ga('send', 'pageview');
</script>

  </head>

  <body>

    <div class="layout">

      <div class="layout__head"></div>

      <div class="layout__body">
        <div class="viewport">
          <div class="layout__side">

            <a href="/" class="logo" up-dash=".content" up-transition="cross-fade">
              <img class="logo__glyph" src="/images/logo.gif" alt="" />
              <span class="logo__name">
                Up.js
              </span>
              <span class="logo__alpha">
                Beta
              </span>
            </a>

            <div class="menu">
                <a href="/up.link" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Linking to page fragments
                </a>
                <a href="/up.modal" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Modal dialogs
                </a>
                <a href="/up.popup" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Pop-up overlays
                </a>
                <a href="/up.motion" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Animation and transitions
                </a>
                <a href="/up.navigation" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Fast interaction feedback
                </a>
                <a href="/up.magic" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Registering behavior and custom elements
                </a>
                <a href="/up.flow" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Changing page fragments programmatically
                </a>
                <a href="/up.proxy" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Caching and preloading
                </a>
                <a href="/up.form" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Forms and controls
                </a>
                <a href="/up.tooltip" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Tooltips
                </a>
                <a href="/up.slot" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Content slots
                </a>
                <a href="/up.history" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Manipulating the browser history
                </a>
                <a href="/up.layout" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Viewport scrolling
                </a>
                <a href="/up.bus" class="menu__item" up-dash=".content" up-transition="cross-fade">
                  Framework events
                </a>
            </div>

            <div class="layout__fineprint">
              A <a href="http://www.makandra.com/" class="hyperlink is_gray">makandra</a> project
              (<a href="/imprint" class="hyperlink is_gray" up-dash=".content" up-transition="cross-fade">imprint</a>)
            </div>

          </div>

          <div class="layout__content">
            <div class="content">
              

<h1 class="title">
  Changing page fragments programmatically
</h1>

<div class='prose'>
<p>This module contains Up's core functions to insert, change
or destroy page fragments.</p>

<h3 id="incomplete-documentation">Incomplete documentation!</h3>

<p>We need to work on this page:</p>

<ul>
  <li>Explain the UJS approach vs. pragmatic approach</li>
  <li>Examples</li>
</ul>

</div>


  <div class="api">

    <div class="api__title">Javascript methods</div>

    <div class="api__explanation">
      Use these methods to programmatically interact
      with Up.js from your own Javascript code.
    </div>

    <div class="api__symbols">

        <div class="symbol is_public" id="up.replace">

  <div class="symbol__signature">
    <a href="#up.replace">up.replace(selectorOrElement, url, [options])</a>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Replaces elements on the current page with corresponding elements
from a new page fetched from the server.</p>

<p>The current and new elements must have the same CSS selector.</p>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          selectorOrElement          <span class="symbol__type">
            String <span class="symbol__or">or</span> Element <span class="symbol__or">or</span> jQuery
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'><p>The CSS selector to update. You can also pass a DOM element or jQuery element
here, in which case a selector will be inferred from the element's class and ID.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          url          <span class="symbol__type">
            String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'><p>The URL to fetch from the server.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.method='get']          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.title]          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.transition='none']          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.history=true]          <span class="symbol__type">
            String <span class="symbol__or">or</span> Boolean
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>If a <code>String</code> is given, it is used as the URL the browser's location bar and history.
If omitted or true, the <code>url</code> argument will be used.
If set to <code>false</code>, the history will remain unchanged.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.source=true]          <span class="symbol__type">
            String <span class="symbol__or">or</span> Boolean
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.scroll]          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>Up.js will try to <a href="/up.layout#up.reveal">reveal</a> the element being updated, by
scrolling its containing viewport. Set this option to <code>false</code> to prevent any scrolling.</p>

<p>If omitted, this will use the <a href="/up.layout#up.layout.defaults">default from <code>up.layout</code></a>.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.cache]          <span class="symbol__type">
            Boolean
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>Whether to use a <a href="/up.proxy">cached response</a> if available.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.historyMethod='push']          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>


    <div class="symbol__subtitle">
      Return value
    </div>

      <div class="symbol__type">
        Promise
      </div>

    <div class="symbol__param_prose">
      <div class='prose'>
<p>A promise that will be resolved when the page has been updated.</p>
</div>
    </div>
  
</div>

        <div class="symbol is_protected" id="up.flow.implant">

  <div class="symbol__signature">
    <a href="#up.flow.implant">up.flow.implant(selector, html, [options])</a>
      <span class="symbol__tag is_visibility">
        protected
      </span>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Updates a selector on the current page with the
same selector from the given HTML string.</p>

<p>Example:</p>

<pre><code>html = '&lt;div class="before"&gt;new-before&lt;/div&gt;' +
       '&lt;div class="middle"&gt;new-middle&lt;/div&gt;' +
        '&lt;div class="after"&gt;new-after&lt;/div&gt;';

up.flow.implant('.middle', html):
</code></pre>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          selector          <span class="symbol__type">
            String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          html          <span class="symbol__type">
            String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.title]          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.source]          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.transition]          <span class="symbol__type">
            Object
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.scroll='body']          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.history]          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.historyMethod='push']          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>

  
</div>

        <div class="symbol is_protected" id="up.first">

  <div class="symbol__signature">
    <a href="#up.first">up.first(selector)</a>
      <span class="symbol__tag is_visibility">
        protected
      </span>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Returns the first element matching the given selector.
Excludes elements that also match <code>.up-ghost</code> or <code>.up-destroying</code>
or that are children of elements with these selectors.</p>

<p>Returns <code>null</code> if no element matches these conditions.</p>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          selector          <span class="symbol__type">
            String
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>

  
</div>

        <div class="symbol is_public" id="up.destroy">

  <div class="symbol__signature">
    <a href="#up.destroy">up.destroy(selectorOrElement, [options])</a>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Destroys the given element or selector.
Takes care that all destructors, if any, are called.
The element is removed from the DOM.</p>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          selectorOrElement          <span class="symbol__type">
            String <span class="symbol__or">or</span> Element <span class="symbol__or">or</span> jQuery
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.url]          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.title]          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.animation='none']          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>The animation to use before the element is removed from the DOM.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.duration]          <span class="symbol__type">
            Number
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>The duration of the animation. See <a href="/up.motion#up.animate"><code>up.animate</code></a>.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.delay]          <span class="symbol__type">
            Number
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>The delay before the animation starts. See <a href="/up.motion#up.animate"><code>up.animate</code></a>.</p>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options.easing]          <span class="symbol__type">
            String
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>The timing function that controls the animation's acceleration. <a href="/up.motion#up.animate"><code>up.animate</code></a>.</p>
</div>
        </div>
      </div>

  
</div>

        <div class="symbol is_public" id="up.reload">

  <div class="symbol__signature">
    <a href="#up.reload">up.reload(selectorOrElement, [options])</a>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Replaces the given selector or element with a fresh copy
fetched from the server.</p>

<p>Up.js remembers the URL from which a fragment was loaded, so you
don't usually need to give an URL when reloading.</p>

</div>
    </div>



    <div class="symbol__subtitle">
      Parameters
    </div>

      <div class="symbol__param">
        <div class="symbol__param_name">
          selectorOrElement          <span class="symbol__type">
            String <span class="symbol__or">or</span> Element <span class="symbol__or">or</span> jQuery
          </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
</div>
        </div>
      </div>
      <div class="symbol__param">
        <div class="symbol__param_name">
          [options]          <span class="symbol__type">
            Object
          </span>
            <span class="symbol__tag is_optional">
              optional
            </span>
        </div>
        <div class="symbol__param_prose">
          <div class='prose'>
<p>See options for <a href="#up.replace"><code>up.replace</code></a></p>
</div>
        </div>
      </div>

  
</div>

        <div class="symbol is_protected" id="up.reset">

  <div class="symbol__signature">
    <a href="#up.reset">up.reset()</a>
      <span class="symbol__tag is_visibility">
        protected
      </span>
  </div>

    <div class="symbol__prose">
      <div class='prose'><p>Resets Up.js to the state when it was booted.
All custom event handlers, animations, etc. that have been registered
will be discarded.</p>

<p>This is an internal method for to enable unit testing.
Don't use this in production.</p>

</div>
    </div>



  
</div>


    </div>

  </div>

            </div>
          </div>
        </div>
      </div>

    </div>

  </body>

</html>
