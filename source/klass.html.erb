<%
 guide.reload if development?
 klass = guide.klass_for_name(klass_name)
 @page_title = klass.title
%>

<h1>
  <%= klass.title %>
</h1>


<div class="expandable">

  <div class="expandable__limiter">
   <div class="expandable__content">
     <h2>Overview</h2>

     <%= markdown_prose(klass.guide_markdown) %>
   </div>
  </div>

  <a class="expandable__expand action">Read more</a>

</div>

<% selectors = klass.selectors.reject(&:internal?).sort %>
<% if selectors.present? %>

  <h2 class="subtitle">CSS selectors</h2>

  <% selectors.each do |behavior| %>
    <%= partial 'feature_preview', locals: { feature: behavior } %>
  <% end %>

<% end %>

<% functions = klass.functions.reject(&:internal?).sort %>
<% if functions.present? %>

  <h2 class="subtitle">JavaScript functions</h2>

  <% functions.each do |function| %>
    <%= partial 'feature_preview', locals: { feature: function } %>
  <% end %>

<% end %>

<% properties = klass.properties.reject(&:internal?).sort %>
<% if properties.present? %>

  <h2 class="subtitle">JavaScript properties</h2>

    <% properties.each do |property| %>
      <%= partial 'feature_preview', locals: { feature: property } %>
    <% end %>

<% end %>

<% events = klass.events.reject(&:internal?).sort %>
<% if events.present? %>

  <h2 class="subtitle">Events</h2>

  <% events.each do |event| %>
    <%= partial 'feature_preview', locals: { feature: event } %>
  <% end %>

<% end %>
